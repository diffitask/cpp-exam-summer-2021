## Switch - case

Рассмотрим пример использования:

```c++
switch (x) {
    case 1:
        std::cout << "  1\n";
        break;
    case 4:
        std::cout << "  4\n";
        break;
    case 2:
        std::cout << "  2\n";
        break;
    default:
    	std::cout << " default\n";
    	break;
}
```

* У нас есть несколько кейсов, и в зависимости от значения `x` мы либо перепрыгиваем на соответственный кейс, либо на значение по умолчанию (если есть).
* Объявлять кейсы можно только констаной (хотя `2 + 2` работает)
* Важно не забывать про `break` (будут варнинги), так как иначе он будет прыгать (как `goto`) в нужный `case`, а дальше будет заходить в каждый кейс ниже. То есть `break` - перейди в конец `switch`.
* Для меньшего количества копи-паста можно писать так:
```c++
case 1:
case 10:
```
Работает как `or`
* Команда `[[fallthrough]];` как раз отрубает ворнинги из-за отсутствия `break`:
```c++
case 1:
    std::cout << "  1\n";
    [[fallthrough]];
```
Будет переходить также и в следующий кейс, если `x = 1`.
* Стилистически лучше писать `default` последним, а кейсы - в алфавитном порядке. В последнем кейсе лучше всегда ставить `break;`
* Нужно быть аккуратным с объявлением переменных!
* Рассмотрим пример:
```c++
switch (x) {
    case 1:
        std::cout << "  1\n";
        break;
    case 4:
        std::cout << "  4\n";
        break;
    case 2:
        std::cout << "  2\n";
        break;
    default:
        int wtf1 = 0;
    	std::cout << " default\n";
    	break;
}
```
Тут компилятор не будет ругаться, так как инициализация только в последнем кейсе.
* Если есть инициализация не в последнем кейсе:
```c++
switch (x) {
    case 1:
        std::cout << "  1\n";
        break;
    case 4:
        std::cout << "  4\n";
        break;
    case 2:
        int wtf = 0;
        std::cout << "  2\n";
        break;
    default:
    	std::cout << " default\n";
    	break;
}
```
тогда компилятор будет ругальтся, так как мы будем перепрыгивать через них и на это ругается компилятор.
* Бороться к этим просто - написать фигурные скобки:
```c++
switch (x) {
    case 1:
        std::cout << "  1\n";
        break;
    case 4:
        std::cout << "  4\n";
        break;
    case 2:
    {
        int wtf = 0;
        std::cout << "  2\n";
        break;
    }
    default:
    	std::cout << " default\n";
    	break;
}
```
* что-то похожее написано тут: https://drive.google.com/drive/folders/1WnOi3GJErmxnRlIDLqfOg7wTKHLEFtZG
